from music.models import *
for line in u"""
А. Пушкин:Пушкин Александр Сергеевич:poet
П. Чайковский:Чайковский Пётр Ильич:composer
С. Рахманинов:Рахманинов Сергей Васильевич:composer
М. Глинка:Глинка Михаил Иванович:composer
?:неизвестно:poet,composer,performer:special
Д. Тухманов:Тухманов Давид Фёдорович:composer
А. Толстой:Толстой Алексей Константинович:poet
А. Даргомыжский:Даргомыжский Александр Сергеевич:composer
М. Лермонтов:Лермонтов Михаил Юрьевич:poet
БДХ:Большой детский хор (Всесоюзного радио и Центрального телевидения)::group
Б. Фомин:Фомин Борис Иванович:composer
П. Булахов:Булахов Пётр Петрович:poet
П. Булахов:Булахов Павел Петрович:poet
Н. Римский-Корсаков:Римский-Корсаков Николай Андреевич:composer
Р. Бернс:Бёрнс Роберт:poet:male
народная:народ:poet,composer:special
А. Фет:Фет Афанасий Афанасьевич:poet
Н. Некрасов:Некрасов Николай Алексеевич:poet
Ф. Тютчев:Тютчев Фёдор Иванович:poet
А. Блок:Блок Александр Александрович:poet
М. Мусоргский:Мусоргский Модест Петрович:composer
М. Анчаров:Анчаров Михаил Леонидович:poet,performer
Т. Шевченко:Шевченко Тарас Григорович:poet
А. Александров:Александров Александр Васильевич:composer
М. Карминский:Карминский Марк Вениаминович:composer
""".splitlines():
    name=name_abbrv=type=''
    categories=[]
    line=line.split(':')
    if len(line)>2:
        name=line[1]
        name_abbrv=line[0]
        categories=line[2].split(',')
        if len(line)>3: type=line[3]
    if type=='group': categories=['performer']
    print(name+' '+name_abbrv+' '+type)
    categories
    p,created=person.objects.get_or_create(name=name, defaults={'name_abbrv':name_abbrv, 'type':type})
    for category in categories: p.category.add(kkre_person_category.objects.get(category=category))


